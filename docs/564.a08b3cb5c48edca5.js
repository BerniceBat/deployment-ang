"use strict";(self.webpackChunkangular_deploy=self.webpackChunkangular_deploy||[]).push([[564],{8564:(F,d,s)=>{s.r(d),s.d(d,{BookModule:()=>x});var p=s(6814),m=s(11),o=s(4769),u=s(9862);let l=(()=>{var t;class e{constructor(n){this.http=n,this.baseUrl="http://localhost:3000"}getAllBooks(){return this.http.get(`${this.baseUrl}/books`)}getBook(n){return this.http.get(`${this.baseUrl}/books/${n}`)}createBook(n){return this.http.post(`${this.baseUrl}/books`,n)}updateBook(n,i){return this.http.put(`${this.baseUrl}/books/${n}`,i)}deleteBook(n){return this.http.delete(`${this.baseUrl}/books/${n}`)}}return(t=e).\u0275fac=function(n){return new(n||t)(o.LFG(u.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var b=s(8024);let g=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-book-item"]],inputs:{book:"book"},decls:7,vars:3,template:function(n,i){1&n&&(o.TgZ(0,"div")(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA()()),2&n&&(o.xp6(2),o.Oqu(i.book.name),o.xp6(2),o.hij("Authors: ",i.book.authors.join(", "),""),o.xp6(2),o.hij("ISBN: ",i.book.isbn,""))},styles:["div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:5px 0}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2), div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-weight:700}div[_ngcontent-%COMP%] + app-command-bar[_ngcontent-%COMP%]{margin-top:20px}"]}),e})();function f(t,e){1&t&&o._UZ(0,"app-book-item",2),2&t&&o.Q6J("book",e.$implicit)}let h=(()=>{var t;class e{constructor(n,i,c){this.bookService=n,this.router=i,this.activatedRoute=c,this.books=[]}ngOnInit(){this.bookService.getAllBooks().subscribe(n=>{this.books=n})}redirectToForm(){this.router.navigate(["form"],{relativeTo:this.activatedRoute})}}return(t=e).\u0275fac=function(n){return new(n||t)(o.Y36(l),o.Y36(m.F0),o.Y36(m.gz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-book-list"]],decls:3,vars:1,consts:[[3,"book",4,"ngFor","ngForOf"],[3,"addClicked"],[3,"book"]],template:function(n,i){1&n&&(o.TgZ(0,"div"),o.YNc(1,f,1,1,"app-book-item",0),o.qZA(),o.TgZ(2,"app-command-bar",1),o.NdJ("addClicked",function(){return i.redirectToForm()}),o.qZA()),2&n&&(o.xp6(1),o.Q6J("ngForOf",i.books))},dependencies:[p.sg,b.H,g],styles:["div[_ngcontent-%COMP%]{padding:20px}app-book-item[_ngcontent-%COMP%]{display:block;margin-bottom:20px;border:1px solid #ccc;border-radius:4px;padding:10px;background-color:#fff;box-shadow:0 0 5px #0000001a}app-command-bar[_ngcontent-%COMP%]{display:block;background-color:#007bff;color:#fff;padding:10px;text-align:center}app-command-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;padding:5px 10px;border:none;border-radius:4px;cursor:pointer;background-color:#fff;color:#007bff;font-weight:700}app-command-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}div[_ngcontent-%COMP%] + app-command-bar[_ngcontent-%COMP%]{margin-top:20px}"]}),e})();var a=s(95);function k(t,e){if(1&t){const r=o.EpF();o.TgZ(0,"div"),o._UZ(1,"input",9),o.TgZ(2,"button",7),o.NdJ("click",function(){const c=o.CHM(r).index,B=o.oxw();return o.KtG(B.removeAuthor(c))}),o._uU(3,"Remove Author"),o.qZA()()}if(2&t){const r=e.index;o.xp6(1),o.Q6J("formControlName",r)}}const C=[{path:"",component:h},{path:"form",component:(()=>{var t;class e{constructor(n){this.fb=n,this.bookForm=new a.cw({name:new a.NI(""),authors:new a.Oe([]),isbn:new a.NI("")})}ngOnInit(){this.buildForm()}buildForm(){this.bookForm=this.fb.group({name:[""],authors:this.fb.array([]),isbn:[""]})}get authorControls(){return this.bookForm.get("authors")}addAuthor(){const n=this.fb.control("");this.authorControls.push(n)}removeAuthor(n){this.authorControls.removeAt(n)}onSubmit(){console.log(this.bookForm.value)}}return(t=e).\u0275fac=function(n){return new(n||t)(o.Y36(a.qu))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-book-form"]],decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],["for","name"],["type","text","id","name","formControlName","name"],["for","isbn"],["type","text","id","isbn","formControlName","isbn"],["formArrayName","authors"],[4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],["type","text",3,"formControlName"]],template:function(n,i){1&n&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"div")(2,"label",1),o._uU(3,"Name:"),o.qZA(),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div")(6,"label",3),o._uU(7,"ISBN:"),o.qZA(),o._UZ(8,"input",4),o.qZA(),o.TgZ(9,"div",5),o.YNc(10,k,4,1,"div",6),o.qZA(),o.TgZ(11,"button",7),o.NdJ("click",function(){return i.addAuthor()}),o._uU(12,"Add Author"),o.qZA(),o.TgZ(13,"button",8),o._uU(14,"Submit"),o.qZA()()),2&n&&(o.Q6J("formGroup",i.bookForm),o.xp6(10),o.Q6J("ngForOf",i.authorControls.controls))},dependencies:[p.sg,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.CE],styles:['form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f8f8f8}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px;margin-bottom:10px;width:100%}button[type=button][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer;margin-bottom:10px}button[type=button][aria-label="Remove Author"][_ngcontent-%COMP%]{background-color:#ff3547;color:#fff;border:none;border-radius:5px;padding:5px;cursor:pointer;margin-left:5px}button[type=submit][_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer}.ng-invalid[_ngcontent-%COMP%]{border-color:#ff3547}']}),e})()}];let _=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,m.Bz.forChild(C)]}),e})();var v=s(6208);let x=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,_,v.m,a.u5,a.UX]}),e})()}}]);